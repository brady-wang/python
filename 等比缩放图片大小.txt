等比缩放图片大小
function resize($srcImage,$toFile,$maxWidth = 200,$maxHeight = 200,$imgQuality=75) {        list($width, $height, $type, $attr) = getimagesize($srcImage);     if($width < $maxWidth  || $height < $maxHeight) return ;     switch ($type) {     case 1: $img = imagecreatefromgif($srcImage); break;     case 2: $img = imagecreatefromjpeg($srcImage); break;     case 3: $img = imagecreatefrompng($srcImage); break;     }     $scale = min($maxWidth/$width, $maxHeight/$height); //求出绽放比例          if($scale < 1) {     $newWidth = floor($scale*$width);     $newHeight = floor($scale*$height);     $newImg = imagecreatetruecolor($newWidth, $newHeight);     imagecopyresampled($newImg, $img, 0, 0, 0, 0, $newWidth, $newHeight, $width, $height);     $newName = "";     $toFile = preg_replace("/(.gif|.jpg|.jpeg|.png)/i","",$toFile);      switch($type) {         case 1: if(imagegif($newImg, "$toFile$newName.gif", $imgQuality))         return "$newName.gif"; break;         case 2: if(imagejpeg($newImg, "$toFile$newName.jpg", $imgQuality))         return "$newName.jpg"; break;         case 3: if(imagepng($newImg, "$toFile$newName.jpg", 7))         return "$newName.png"; break;         default: if(imagejpeg($newImg, "$toFile$newName.jpg", $imgQuality))        return "$newName.jpg"; break;     }     imagedestroy($newImg);     }     imagedestroy($img);     return false; }
