微信上传图片
$type = "image";echo $filepath = dirname(__FILE__)."\images\\1.jpg";$filedata = array("file1"  => "@".$filepath);$url = "http://file.api.weixin.qq.com/cgi-bin/media/upload?access_token=fyVbjeDDGnS8_wzkb_G-EHCRVJLHLZbr2Jbd7QjkRIEqswI-dwvHVHYXGvmpPvOvROIQ3sH02lIuKmnBtBZ0QZXkC31DF3-vt7Wj8T1cbvA&type=$type";$result = curl_request($url, $filedata);var_dump($result);
   function curl_request($url,$data=null)	{     	$curl = curl_init();     	curl_setopt($curl,CURLOPT_HTTPHEADER,array("application/x-www-form-urlencoded;charset=utf-8"));     	curl_setopt($curl, CURLOPT_URL, $url);    	curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, FALSE);    	curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, FALSE);    	if (!empty($data))    	{    	curl_setopt($curl, CURLOPT_POST, 1);    	curl_setopt($curl, CURLOPT_POSTFIELDS, $data);    	}    	curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);    	$output = curl_exec($curl);    	curl_close($curl);    	return $output; 	}
