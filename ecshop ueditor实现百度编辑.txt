ecshop ueditor实现百度编辑器
ecshop后台编辑器替换成ueditor编辑器
投稿：hebedich 字体：[增加 减小] 类型：转载

 
这篇文章主要介绍了ecshop后台编辑器替换成ueditor编辑器的详细过程，这里推荐给有相同需求的小伙伴们。
 
 

1、Ueditor1.4.3下载（截止到2015-03-03最新版）
下载地址：http://ueditor.baidu.com/website/download.html解决jquery冲突的jquery等相关文件下载 文件中已含js冲突修改文件，另外已修改php/config.json中的图处保存路径，用户也可以自行修改！ 因为老杨用的是mac os系统，所以文件中有一些.DS_store文件，可以忽略或自行删除 下载地址：http://pan.baidu.com/s/1gdglb0J 密码：fflu （老杨提供）
2、上传到网站服务器
解压并上传目录 uediter 到根目录 /includes 下 解压老杨的那个东东，把fix_jquery上传到 ueditor 的目录下
3、修改/admin/includes/lib_main.php
找到下面的函数
 
复制代码 代码如下:
 /**   * 生成编辑器  * @param   string  input_name  输入框名称  * @param   string  input_value 输入框值  */  function create_html_editor($input_name, $input_value = '')   {       global $smarty;           $editor = new FCKeditor($input_name);       $editor->BasePath   = '../includes/fckeditor/';       $editor->ToolbarSet = 'Normal';       $editor->Width      = '100%';       $editor->Height     = '320';       $editor->Value      = $input_value;       $FCKeditor = $editor->CreateHtml();       $smarty->assign('FCKeditor', $FCKeditor);   }
 
替换为：
 
复制代码 代码如下:
 /**  * 生成编辑器 * @param   string  input_name  输入框名称 * @param   string  input_value 输入框值 */function create_html_editor($input_name, $input_value = '') {     global $smarty;     $kindeditor="     <script id='editor' name='$input_name' type='text/plain' style='width:1024px;height:500px;'>$input_value</script>     <script charset='utf-8' src='../includes/ueditor/ueditor.config.js'></script>     <script charset='utf-8' src='../includes/ueditor/ueditor.all.min.js'></script>     <script>         var ue = UE.getEditor('editor');     </script>     ";     $smarty->assign('FCKeditor', $kindeditor); }
 
4、修改/admin/templates/pageheader.htm
查找：
 
复制代码 代码如下:
 {insert_scripts files="../js/transport.js,common.js,../js/utils.js"}
 
替换为：
 
复制代码 代码如下:
< script src="../includes/ueditor/fix_jquery/jquery.min.js"></script>< script src="../includes/ueditor/fix_jquery/jquery.json-1.3.js"></script>< script src="js/common.js"></script>< script src="../includes/ueditor/fix_jquery/transport_json.js"></script> {insert_scripts files="../js/utils.js"}
 
5、解决商品编辑中编辑器被重置，uedite无法保存内容的bug。
文件：/admin/templates/goods_info.htm找到:
 
复制代码 代码如下:
document.forms['theForm'].reset();
 
注释掉：
 
复制代码 代码如下:
 //document.forms['theForm'].reset();

